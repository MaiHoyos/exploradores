<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Misi√≥n 1: Llanura de Vectonia</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .slide {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .slide.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .progress-bar {
            height: 10px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
        }
        .progress-fill {
            height: 100%;
            border-radius: 5px;
            background: linear-gradient(90deg, #4ade80, #22d3ee);
            transition: width 0.5s ease;
        }
        .mission-badge {
            transition: transform 0.3s ease;
        }
        .mission-badge:hover {
            transform: scale(1.1) rotate(5deg);
        }

        input[type="number"], input[type="text"] {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            width: 100%;
        }
        input:focus {
            outline: none;
            border-color: #fbbf24;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 0, 0, 0.3);
        }
        th, td {
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px;
            text-align: center;
        }
        th {
            background: rgba(255, 165, 0, 0.3);
        }
        select {
            background: #111827;
            border-radius: 6px;
            padding: 4px 6px;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-purple-900 via-blue-900 to-black text-white relative overflow-auto">
    <div class="stars" id="stars"></div>

    <header class="relative z-10 bg-gradient-to-r from-orange-400 to-orange-600 border-4 border-white rounded-b-3xl p-6 m-4">
        <div class="flex items-center justify-between gap-4">
            <button onclick="volverAMisiones()" class="px-4 py-2 bg-white text-orange-600 font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                ‚Üê Volver a Misiones
            </button>
            <div class="flex-1 flex items-center justify-center gap-3 text-center">
                <div class="text-3xl md:text-4xl font-extrabold text-white drop-shadow-lg leading-tight">
                    MISI√ìN 1: LLANURA DE VECTONIA
                </div>
                <div class="text-4xl text-yellow-300">‚öôÔ∏è</div>
            </div>
            <div id="completion-badge" class="hidden px-4 py-2 bg-green-500 text-white font-bold rounded-full shadow-lg">
                ‚úÖ Completada
            </div>
        </div>
    </header>

    <main class="relative z-10 p-6 md:p-10 max-w-4xl mx-auto">
        <!-- Barra de progreso -->
        <div class="mb-8">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-semibold">Progreso de la misi√≥n</span>
                <span id="progress-text" class="text-sm font-semibold">1/11</span>
            </div>
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill" style="width: 9%;"></div>
            </div>
        </div>

        <div class="slides-container">
            <!-- 1. Portada -->
            <section class="slide active" id="slide-1">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8">
                    <div class="text-center mb-6">
                        <div class="text-6xl mb-4">üöÄ</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-4 text-yellow-300">
                            Llanura de Vectonia ‚Äì Calibra tu RoverBot
                        </h2>
                    </div>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40">
                        <p class="text-lg text-white/90 mb-4">
                            Acabas de aterrizar en Zython. Tu RoverBot debe recorrer exactamente la distancia hasta el primer punto de control.
                            Calibra, prueba y registra como un aut√©ntico explorador.
                        </p>
                        <p class="text-lg font-semibold text-yellow-300">
                            Lee toda la gu√≠a antes de empezar. Esta misi√≥n se trabaja en equipo y con registro de evidencias.
                        </p>
                    </div>
                    <div class="flex justify-between mt-8">
                        <button class="px-4 py-2 bg-gray-500 text-white font-bold rounded-full opacity-50 cursor-not-allowed">
                            Anterior
                        </button>
                        <button onclick="nextSlide(1)" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Siguiente ‚Üí
                        </button>
                    </div>
                </div>
            </section>

            <!-- 2. Objetivos de aprendizaje -->
            <section class="slide" id="slide-2">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-4">üéØ</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-4 text-yellow-300">Objetivos de aprendizaje</h2>
                    </div>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40">
                        <p class="text-lg text-white/90 mb-4">Al completar la misi√≥n podr√°s:</p>
                        <ul class="list-disc list-inside space-y-3 text-white/90">
                            <li>Entender la relaci√≥n <span class="font-semibold">potencia ‚Äì tiempo ‚Äì distancia</span>.</li>
                            <li>Medir y registrar datos reales de movimiento.</li>
                            <li>Ajustar tu programaci√≥n para alcanzar una distancia objetivo.</li>
                            <li>Interpretar una tabla de ensayos y sacar conclusiones.</li>
                        </ul>
                    </div>
                    <div class="flex justify-between mt-8">
                        <button onclick="prevSlide(2)" class="px-4 py-2 bg-gray-600 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            ‚Üê Anterior
                        </button>
                        <button onclick="nextSlide(2)" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Siguiente ‚Üí
                        </button>
                    </div>
                </div>
            </section>

            <!-- 3. Materiales y preparaci√≥n -->
            <section class="slide" id="slide-3">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-4">üîß</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-4 text-yellow-300">Materiales y preparaci√≥n</h2>
                    </div>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40 space-y-4">
                        <div>
                            <p class="text-lg font-semibold text-white mb-2">Necesitas:</p>
                            <ul class="list-disc list-inside space-y-2 text-white/90">
                                <li>RoverBot armado.</li>
                                <li>Cinta m√©trica.</li>
                                <li>Cinta adhesiva para marcar el suelo.</li>
                                <li>Computador o tablet con <span class="font-semibold">Scratch</span>.</li>
                            </ul>
                        </div>
                        <div>
                            <p class="text-lg font-semibold text-white mb-2">Preparaci√≥n:</p>
                            <ol class="list-decimal list-inside space-y-2 text-white/90">
                                <li>Marca la l√≠nea de salida con cinta.</li>
                                <li>Marca el objetivo (ejemplo: 50 cm desde la salida).</li>
                                <li>Conecta el set a Scratch y verifica que el motor responda correctamente.</li>
                            </ol>
                        </div>
                    </div>
                    <div class="flex justify-between mt-8">
                        <button onclick="prevSlide(3)" class="px-4 py-2 bg-gray-600 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            ‚Üê Anterior
                        </button>
                        <button onclick="nextSlide(3)" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Siguiente ‚Üí
                        </button>
                    </div>
                </div>
            </section>

            <!-- 4. Paso 1: Predicci√≥n -->
            <section class="slide" id="slide-4">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-4">üìù</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-4 text-yellow-300">Paso 1: Predicci√≥n</h2>
                    </div>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40">
                        <p class="text-lg text-white/90 mb-4">Qu√© hacer:</p>
                        <ol class="list-decimal list-inside space-y-2 text-white/90 mb-6">
                            <li>Escribe la distancia objetivo.</li>
                            <li>Haz una predicci√≥n: ¬øqu√© potencia (%) y qu√© tiempo (s) crees necesitar?</li>
                        </ol>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                            <div>
                                <label class="block mb-2">Distancia objetivo (cm):</label>
                                <input type="number" id="distancia-objetivo" value="50" min="1" max="300">
                            </div>
                            <div>
                                <label class="block mb-2">Predicci√≥n - Potencia (%):</label>
                                <input type="number" id="prediccion-potencia" min="0" max="100" placeholder="Ej: 10">
                            </div>
                            <div>
                                <label class="block mb-2">Predicci√≥n - Tiempo (s):</label>
                                <input type="number" id="prediccion-tiempo" min="0.1" step="0.1" placeholder="Ej: 2">
                            </div>
                        </div>
                        <div class="mt-4">
                            <label class="block mb-2">Raz√≥n breve:</label>
                            <input type="text" id="razon-prediccion" placeholder="Creo esto porque...">
                        </div>
                    </div>
                    <div class="flex justify-between mt-8">
                        <button onclick="prevSlide(4)" class="px-4 py-2 bg-gray-600 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            ‚Üê Anterior
                        </button>
                        <button onclick="savePrediction(); nextSlide(4)" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Siguiente ‚Üí
                        </button>
                    </div>
                </div>
            </section>

            <!-- 5. Paso 2: Programaci√≥n inicial -->
            <section class="slide" id="slide-5">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8">
                    <div class="text-center mb-4">
                        <div class="text-4xl mb-2">üß©</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-2 text-yellow-300">Paso 2: Programaci√≥n inicial</h2>
                    </div>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40 space-y-4">
                        <p class="text-lg text-white/90">
                            Crea el programa como aparece en la imagen. Usa los valores de potencia y tiempo que predijiste.
                        </p>
                        <div class="text-sm text-white/70">
                            Imagen tomada como referencia de programaci√≥n inicial del motor.
                        </div>
                        <img src="programacion/1.png" alt="Programa inicial RoverBot" class="mx-auto my-4 max-w-full rounded-xl border-2 border-white/40 shadow-lg">
                        <ol class="list-decimal list-inside space-y-2 text-white/90">
                            <li>En Scratch, arma el bloque para encender el motor con tu potencia y tiempo predichos.</li>
                            <li>Coloca el RoverBot en la l√≠nea de salida.</li>
                            <li>Ejecuta una vez y observa el recorrido.</li>
                            <li>Graba un video del intento como evidencia y gu√°rdalo en el drive de evidencias del equipo.</li>
                        </ol>
                        <div class="bg-yellow-900/30 p-4 rounded-lg border border-yellow-600 mt-2">
                            <p class="text-yellow-200 font-semibold">
                                ‚ö†Ô∏è Nota de seguridad: Mant√©n manos y objetos fuera del camino del RoverBot mientras se mueve.
                            </p>
                        </div>
                    </div>
                    <div class="flex justify-between mt-8">
                        <button onclick="prevSlide(5)" class="px-4 py-2 bg-gray-600 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            ‚Üê Anterior
                        </button>
                        <button onclick="nextSlide(5)" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Siguiente ‚Üí
                        </button>
                    </div>
                </div>
            </section>

            <!-- 6. Paso 3: Medici√≥n y registro -->
            <section class="slide" id="slide-6">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-4">üìè</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-4 text-yellow-300">Paso 3: Medici√≥n y registro</h2>
                    </div>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40 space-y-4">
                        <p class="text-lg text-white/90">
                            Mide desde la l√≠nea de salida hasta donde se detuvo la rueda delantera del RoverBot. Registra el resultado.
                        </p>
                        <p class="text-lg font-semibold text-white mt-4 mb-2">Registra tu primer intento:</p>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                            <div>
                                <label class="block mb-2">Potencia (%):</label>
                                <input type="number" id="intento1-potencia" min="0" max="100">
                            </div>
                            <div>
                                <label class="block mb-2">Tiempo (s):</label>
                                <input type="number" id="intento1-tiempo" min="0.1" step="0.1">
                            </div>
                            <div>
                                <label class="block mb-2">Distancia (cm):</label>
                                <input type="number" id="intento1-distancia" min="0" step="0.1">
                            </div>
                            <div>
                                <label class="block mb-2">¬øLleg√≥ al objetivo?</label>
                                <select id="intento1-resultado">
                                    <option value="no">No</option>
                                    <option value="si">S√≠</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-between mt-8">
                        <button onclick="prevSlide(6)" class="px-4 py-2 bg-gray-600 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            ‚Üê Anterior
                        </button>
                        <button onclick="saveAttempt(1); nextSlide(6)" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Siguiente ‚Üí
                        </button>
                    </div>
                </div>
            </section>

            <!-- 7. Paso 4: Analiza y decide ajustes -->
            <section class="slide" id="slide-7">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-4">üîç</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-4 text-yellow-300">Paso 4: Analiza y decide ajustes</h2>
                    </div>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40 space-y-4">
                        <p class="text-lg text-white/90">C√≥mo decidir qu√© cambiar:</p>
                        <ul class="list-disc list-inside space-y-2 text-white/90">
                            <li>Si distancia &lt; objetivo ‚Üí aumentar potencia o tiempo.</li>
                            <li>Si distancia &gt; objetivo ‚Üí reducir potencia o tiempo.</li>
                        </ul>
                        <p class="text-lg text-white/90">
                            Estrategia: cambia solo una variable por intento (por ejemplo, +10% potencia o +0.2 s) para ver claramente el efecto.
                        </p>
                        <div class="mt-4">
                            <label class="block mb-2">Registro de la decisi√≥n:</label>
                            <input type="text" id="decision-ajuste" placeholder="Cambi√© ____ porque ____ (esperaba ____).">
                        </div>
                    </div>
                    <div class="flex justify-between mt-8">
                        <button onclick="prevSlide(7)" class="px-4 py-2 bg-gray-600 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            ‚Üê Anterior
                        </button>
                        <button onclick="saveAdjustment(); nextSlide(7)" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Siguiente ‚Üí
                        </button>
                    </div>
                </div>
            </section>

            <!-- 8. Paso 5: Repetir y confirmar -->
            <section class="slide" id="slide-8">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-4">üîÑ</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-4 text-yellow-300">Paso 5: Repetir y confirmar</h2>
                    </div>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40 space-y-4">
                        <p class="text-lg text-white/90">
                            Meta: tener al menos 3 intentos documentados y 1 intento exitoso.
                        </p>
                        <div class="overflow-x-auto">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Intento</th>
                                        <th>Potencia (%)</th>
                                        <th>Tiempo (s)</th>
                                        <th>Distancia (cm)</th>
                                        <th>¬øLleg√≥?</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2</td>
                                        <td><input type="number" id="intento2-potencia" min="0" max="100" class="w-full bg-transparent border-none text-center"></td>
                                        <td><input type="number" id="intento2-tiempo" min="0.1" step="0.1" class="w-full bg-transparent border-none text-center"></td>
                                        <td><input type="number" id="intento2-distancia" min="0" step="0.1" class="w-full bg-transparent border-none text-center"></td>
                                        <td>
                                            <select id="intento2-resultado" class="w-full bg-transparent border-none text-center">
                                                <option value="no">No</option>
                                                <option value="si">S√≠</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td><input type="number" id="intento3-potencia" min="0" max="100" class="w-full bg-transparent border-none text-center"></td>
                                        <td><input type="number" id="intento3-tiempo" min="0.1" step="0.1" class="w-full bg-transparent border-none text-center"></td>
                                        <td><input type="number" id="intento3-distancia" min="0" step="0.1" class="w-full bg-transparent border-none text-center"></td>
                                        <td>
                                            <select id="intento3-resultado" class="w-full bg-transparent border-none text-center">
                                                <option value="no">No</option>
                                                <option value="si">S√≠</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>4 (opcional)</td>
                                        <td><input type="number" id="intento4-potencia" min="0" max="100" class="w-full bg-transparent border-none text-center"></td>
                                        <td><input type="number" id="intento4-tiempo" min="0.1" step="0.1" class="w-full bg-transparent border-none text-center"></td>
                                        <td><input type="number" id="intento4-distancia" min="0" step="0.1" class="w-full bg-transparent border-none text-center"></td>
                                        <td>
                                            <select id="intento4-resultado" class="w-full bg-transparent border-none text-center">
                                                <option value="no">No</option>
                                                <option value="si">S√≠</option>
                                            </select>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="text-white/90 mt-4">
                            Recuerda grabar un video del intento exitoso y guardarlo en el drive de evidencias del equipo.
                        </p>
                        <label class="inline-flex items-center mt-2">
                            <input type="checkbox" id="video-check" class="form-checkbox h-5 w-5 text-blue-600">
                            <span class="ml-2">Ya guardamos el video del intento exitoso.</span>
                        </label>
                    </div>
                    <div class="flex justify-between mt-8">
                        <button onclick="prevSlide(8)" class="px-4 py-2 bg-gray-600 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            ‚Üê Anterior
                        </button>
                        <button onclick="saveAdditionalAttempts(); nextSlide(8)" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Siguiente ‚Üí
                        </button>
                    </div>
                </div>
            </section>

            <!-- 9. Paso 6: Conclusi√≥n y reflexi√≥n -->
            <section class="slide" id="slide-9">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-4">üßæ</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-4 text-yellow-300">Paso 6: Conclusi√≥n y reflexi√≥n</h2>
                    </div>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40 space-y-4">
                        <div>
                            <label class="block mb-2">
                                Completa la frase:
                            </label>
                            <input type="text" id="conclusion-frase" placeholder="Para llegar a 50 cm, nuestro RoverBot debe tener una potencia de ___% y un tiempo de ___ s.">
                        </div>
                        <div>
                            <label class="block mb-2">¬øQu√© pas√≥ cuando aumentamos la potencia sin cambiar el tiempo?</label>
                            <textarea id="reflexion-1" rows="2" class="w-full bg-gray-800 text-white p-2 rounded" placeholder="Escribe tu respuesta aqu√≠..."></textarea>
                        </div>
                        <div>
                            <label class="block mb-2">¬øPudimos lograr 50 cm con varias combinaciones? Da un ejemplo.</label>
                            <textarea id="reflexion-2" rows="2" class="w-full bg-gray-800 text-white p-2 rounded" placeholder="Escribe tu respuesta aqu√≠..."></textarea>
                        </div>
                        <div>
                            <label class="block mb-2">¬øC√≥mo usar√≠as estos datos en la pr√≥xima misi√≥n?</label>
                            <textarea id="reflexion-3" rows="2" class="w-full bg-gray-800 text-white p-2 rounded" placeholder="Escribe tu respuesta aqu√≠..."></textarea>
                        </div>
                    </div>
                    <div class="flex justify-between mt-8">
                        <button onclick="prevSlide(9)" class="px-4 py-2 bg-gray-600 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            ‚Üê Anterior
                        </button>
                        <button onclick="saveReflection(); nextSlide(9)" class="px-6 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Siguiente ‚Üí
                        </button>
                    </div>
                </div>
            </section>

            <!-- 10. Autoevaluaci√≥n -->
            <section class="slide" id="slide-10">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8">
                    <div class="text-center mb-6">
                        <div class="text-4xl mb-4">‚úÖ</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-4 text-yellow-300">Autoevaluaci√≥n y checklist final</h2>
                    </div>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40">
                        <div class="space-y-4">
                            <label class="flex items-start">
                                <input type="checkbox" id="check-1" class="form-checkbox h-5 w-5 text-blue-600 mt-1">
                                <span class="ml-2">Preparamos el √°rea y marcamos la distancia objetivo.</span>
                            </label>
                            <label class="flex items-start">
                                <input type="checkbox" id="check-2" class="form-checkbox h-5 w-5 text-blue-600 mt-1">
                                <span class="ml-2">Registramos al menos 3 intentos en la tabla.</span>
                            </label>
                            <label class="flex items-start">
                                <input type="checkbox" id="check-3" class="form-checkbox h-5 w-5 text-blue-600 mt-1">
                                <span class="ml-2">Guardamos el video del intento exitoso.</span>
                            </label>
                            <label class="flex items-start">
                                <input type="checkbox" id="check-4" class="form-checkbox h-5 w-5 text-blue-600 mt-1">
                                <span class="ml-2">Guardamos el proyecto en Scratch.</span>
                            </label>
                            <label class="flex items-start">
                                <input type="checkbox" id="check-5" class="form-checkbox h-5 w-5 text-blue-600 mt-1">
                                <span class="ml-2">Completamos la reflexi√≥n final.</span>
                            </label>
                        </div>
                        <div class="mt-6 text-center">
                            <p class="text-lg font-semibold text-yellow-300">
                                Al completar todo, reclamas tu Insignia üõ†Ô∏è Calibrador Estelar.
                            </p>
                            <div class="mission-badge inline-block mt-4 p-4 bg-gradient-to-b from-yellow-400 to-orange-500 rounded-full text-4xl">
                                üõ†Ô∏è
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-between mt-8">
                        <button onclick="prevSlide(10)" class="px-4 py-2 bg-gray-600 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            ‚Üê Anterior
                        </button>
                        <button onclick="completeMission(); nextSlide(10)" class="px-6 py-2 bg-gradient-to-r from-green-500 to-green-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Completar misi√≥n
                        </button>
                    </div>
                </div>
            </section>

            <!-- 11. Siguiente misi√≥n / cierre -->
            <section class="slide" id="slide-11">
                <div class="bg-white/10 backdrop-blur-sm rounded-3xl p-6 md:p-8 border-4 border-white/30 shadow-2xl mb-8 text-center space-y-6">
                    <div class="text-4xl mb-2">‚ú®</div>
                    <h2 class="text-2xl md:text-3xl font-bold text-yellow-300">
                        Siguiente misi√≥n / Ideas para continuar
                    </h2>
                    <div class="bg-black/40 p-6 rounded-xl border-2 border-white/40 text-left inline-block text-white/90 space-y-2">
                        <ul class="list-disc list-inside space-y-2">
                            <li>Repite la actividad con diferentes combinaciones y compara los resultados.</li>
                            <li>Dise√±a un desaf√≠o de equipo: ¬øqu√© combinaci√≥n logra exactamente 1 m con menor energ√≠a total?</li>
                            <li>Registra tus datos en una hoja de c√°lculo y crea la gr√°fica.</li>
                        </ul>
                    </div>
                    <p class="text-lg font-semibold text-yellow-300">
                        ¬°Felicidades! Has completado la Misi√≥n 1: Llanura de Vectonia.
                    </p>
                    <button onclick="volverAMisiones()" class="px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-700 text-white font-bold rounded-full shadow-lg transition-transform transform hover:scale-105 text-xl">
                        Volver al Centro de Misiones
                    </button>
                </div>
            </section>
        </div>
    </main>

    <script>
        // Variables globales
        let currentSlide = 1;
        const totalSlides = 11;
        let missionData = {};

        // Crear estrellas de fondo
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starsCount = 150;
            for (let i = 0; i < starsCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                const size = Math.random() * 3;
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.animationDelay = `${Math.random() * 3}s`;
                starsContainer.appendChild(star);
            }
        }

        // Mostrar diapositiva
        function showSlide(slideNumber) {
            document.querySelectorAll('.slide').forEach(slide => {
                slide.classList.remove('active');
            });
            const target = document.getElementById(`slide-${slideNumber}`);
            if (target) {
                target.classList.add('active');
            }

            const progressPercentage = (slideNumber / totalSlides) * 100;
            document.getElementById('progress-fill').style.width = `${progressPercentage}%`;
            document.getElementById('progress-text').textContent = `${slideNumber}/${totalSlides}`;
            currentSlide = slideNumber;

            // Mostrar valores predichos en la explicaci√≥n si queremos
            if (slideNumber === 5) {
                // (Solo referencia visual si quieres usarlo en texto)
            }

            // Mostrar badge si ya est√° completada y estamos en la √∫ltima
            if (slideNumber === totalSlides && localStorage.getItem('mision1Completada')) {
                document.getElementById('completion-badge').classList.remove('hidden');
            }
        }

        function nextSlide(current) {
            if (current < totalSlides) {
                showSlide(current + 1);
            }
        }

        function prevSlide(current) {
            if (current > 1) {
                showSlide(current - 1);
            }
        }

        // Guardar predicci√≥n
        function savePrediction() {
            missionData.distanciaObjetivo = document.getElementById('distancia-objetivo').value;
            missionData.prediccionPotencia = document.getElementById('prediccion-potencia').value;
            missionData.prediccionTiempo = document.getElementById('prediccion-tiempo').value;
            missionData.razonPrediccion = document.getElementById('razon-prediccion').value;
            localStorage.setItem('mision1Data', JSON.stringify(missionData));
        }

        // Guardar intento
        function saveAttempt(attemptNumber) {
            if (!missionData.attempts) missionData.attempts = {};
            missionData.attempts[attemptNumber] = {
                potencia: getValue(`intento${attemptNumber}-potencia`),
                tiempo: getValue(`intento${attemptNumber}-tiempo`),
                distancia: getValue(`intento${attemptNumber}-distancia`),
                resultado: getValue(`intento${attemptNumber}-resultado`)
            };
            localStorage.setItem('mision1Data', JSON.stringify(missionData));
        }

        function getValue(id) {
            const el = document.getElementById(id);
            return el ? el.value : '';
        }

        // Guardar ajuste
        function saveAdjustment() {
            missionData.decisionAjuste = document.getElementById('decision-ajuste').value;
            localStorage.setItem('mision1Data', JSON.stringify(missionData));
        }

        // Guardar intentos adicionales
        function saveAdditionalAttempts() {
            for (let i = 2; i <= 4; i++) {
                const potencia = getValue(`intento${i}-potencia`);
                const tiempo = getValue(`intento${i}-tiempo`);
                const distancia = getValue(`intento${i}-distancia`);
                const resultado = getValue(`intento${i}-resultado`);
                if (potencia || tiempo || distancia || resultado) {
                    saveAttempt(i);
                }
            }
            missionData.videoGrabado = document.getElementById('video-check').checked;
            localStorage.setItem('mision1Data', JSON.stringify(missionData));
        }

        // Guardar reflexi√≥n
        function saveReflection() {
            missionData.conclusion = document.getElementById('conclusion-frase').value;
            missionData.reflexion1 = document.getElementById('reflexion-1').value;
            missionData.reflexion2 = document.getElementById('reflexion-2').value;
            missionData.reflexion3 = document.getElementById('reflexion-3').value;
            localStorage.setItem('mision1Data', JSON.stringify(missionData));
        }

        // Completar misi√≥n
        function completeMission() {
            for (let i = 1; i <= 5; i++) {
                const checkbox = document.getElementById(`check-${i}`);
                if (checkbox) checkbox.checked = true;
            }

            localStorage.setItem('mision1Completada', 'true');
            document.getElementById('completion-badge').classList.remove('hidden');

            missionData.completada = true;
            missionData.fechaCompletada = new Date().toISOString();
            localStorage.setItem('mision1Data', JSON.stringify(missionData));

            const currentPlayer = localStorage.getItem('zython-current-player');
            if (currentPlayer) {
                let players = JSON.parse(localStorage.getItem('zython-players') || '{}');
                if (!players[currentPlayer]) {
                    players[currentPlayer] = {
                        completedMissions: [],
                        completed: 0,
                        currentMission: 1
                    };
                }
                if (!players[currentPlayer].completedMissions.includes(1)) {
                    players[currentPlayer].completedMissions.push(1);
                    players[currentPlayer].completed = players[currentPlayer].completedMissions.length;
                    players[currentPlayer].currentMission = 2;
                }
                localStorage.setItem('zython-players', JSON.stringify(players));
            }

            alert('¬°Felicidades! Has completado la Misi√≥n 1: Llanura de Vectonia. ¬°Eres un aut√©ntico Calibrador Estelar!');
        }

        // Volver al √≠ndice
        function volverAMisiones() {
            window.location.href = 'index.html';
        }

        // Cargar datos guardados
        function loadSavedData() {
            const savedData = localStorage.getItem('mision1Data');
            if (savedData) {
                missionData = JSON.parse(savedData);

                if (missionData.distanciaObjetivo)
                    document.getElementById('distancia-objetivo').value = missionData.distanciaObjetivo;
                if (missionData.prediccionPotencia)
                    document.getElementById('prediccion-potencia').value = missionData.prediccionPotencia;
                if (missionData.prediccionTiempo)
                    document.getElementById('prediccion-tiempo').value = missionData.prediccionTiempo;
                if (missionData.razonPrediccion)
                    document.getElementById('razon-prediccion').value = missionData.razonPrediccion;

                if (missionData.attempts) {
                    for (let i = 1; i <= 4; i++) {
                        const a = missionData.attempts[i];
                        if (a) {
                            const p = document.getElementById(`intento${i}-potencia`);
                            const t = document.getElementById(`intento${i}-tiempo`);
                            const d = document.getElementById(`intento${i}-distancia`);
                            const r = document.getElementById(`intento${i}-resultado`);
                            if (p) p.value = a.potencia || '';
                            if (t) t.value = a.tiempo || '';
                            if (d) d.value = a.distancia || '';
                            if (r && a.resultado !== undefined) r.value = a.resultado;
                        }
                    }
                }

                if (missionData.decisionAjuste)
                    document.getElementById('decision-ajuste').value = missionData.decisionAjuste;

                if (missionData.videoGrabado)
                    document.getElementById('video-check').checked = true;

                if (missionData.conclusion)
                    document.getElementById('conclusion-frase').value = missionData.conclusion;
                if (missionData.reflexion1)
                    document.getElementById('reflexion-1').value = missionData.reflexion1;
                if (missionData.reflexion2)
                    document.getElementById('reflexion-2').value = missionData.reflexion2;
                if (missionData.reflexion3)
                    document.getElementById('reflexion-3').value = missionData.reflexion3;
            }

            if (localStorage.getItem('mision1Completada')) {
                document.getElementById('completion-badge').classList.remove('hidden');
                for (let i = 1; i <= 5; i++) {
                    const checkbox = document.getElementById(`check-${i}`);
                    if (checkbox) checkbox.checked = true;
                }
            }
        }

        // Inicializar
        window.onload = function () {
            createStars();
            showSlide(1);
            loadSavedData();
        };
    </script>
</body>
</html>
