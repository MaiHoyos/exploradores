<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Misiones RoverBot - Exploradores del Espacio</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Arial',sans-serif;background:linear-gradient(135deg,#0f0f23 0%,#1a1a2e 50%,#16213e 100%);min-height:100vh;color:#fff;overflow-x:hidden}
    .stars{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}
    .star{position:absolute;width:2px;height:2px;background:white;border-radius:50%;animation:twinkle 2s infinite alternate}
    @keyframes twinkle{0%{opacity:.3}100%{opacity:1}}

    .container{position:relative;z-index:10;max-width:1200px;margin:0 auto;padding:20px}
    .header{text-align:center;margin-bottom:30px;animation:fadeInDown 1s ease-out}
    .title{font-size:2.5rem;background:linear-gradient(45deg,#ff6b35,#f7931e,#ffd700);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:10px;text-shadow:0 0 20px rgba(255,215,0,.3)}
    .subtitle{font-size:1.2rem;color:#a8b2d1;margin-bottom:20px}

    /* Radar map */
    .mission-map{position:relative;width:100%;height:500px;border-radius:20px;border:3px solid #4a90e2;margin-bottom:30px;overflow:hidden;box-shadow:0 0 30px rgba(74,144,226,.3)}
    .radar-background{position:absolute;inset:0;background:repeating-radial-gradient(circle at center,rgba(74,144,226,.2) 0,rgba(74,144,226,.2) 2px,transparent 3px,transparent 60px),radial-gradient(circle at center,rgba(42,67,101,.6) 0%,#1a252f 100%);animation:radarSweep 6s linear infinite}
    @keyframes radarSweep{0%{background-position:0 0}100%{background-position:200px 200px}}
    .mission-connections{position:absolute;inset:0;pointer-events:none}
    .connection{stroke:#4a90e2;stroke-width:3;fill:none;opacity:.6;stroke-dasharray:6 6;animation:dashMove 5s linear infinite}
    @keyframes dashMove{to{stroke-dashoffset:-12}}

    .mission-point{position:absolute;width:80px;height:80px;border-radius:50%;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;font-size:2rem;border:3px solid;animation:pulse 2s infinite;flex-direction:column}
    .mission-point:hover{transform:scale(1.1)}
    .mission-label{font-size:.8rem;margin-top:5px;color:#ffd700;text-shadow:0 0 5px black}
    .mission-1{top:20%;left:15%;background:linear-gradient(45deg,#4CAF50,#81C784);border-color:#66BB6A}
    .mission-2{top:15%;right:20%;background:linear-gradient(45deg,#FFC107,#FFD54F);border-color:#FFCA28}
    .mission-3{bottom:25%;left:25%;background:linear-gradient(45deg,#FF5722,#FF8A65);border-color:#FF7043}
    .mission-4{bottom:20%;right:15%;background:linear-gradient(45deg,#9C27B0,#BA68C8);border-color:#AB47BC}
    .mission-locked{background:linear-gradient(45deg,#666,#999)!important;border-color:#777!important;opacity:.5;cursor:not-allowed}
    .mission-completed{animation:completedGlow 2s infinite alternate}
    @keyframes completedGlow{0%{box-shadow:0 0 20px rgba(76,175,80,.5)}100%{box-shadow:0 0 30px rgba(76,175,80,.8)}}
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}

    /* Mission view */
    .mission-view{display:none}
    .mission-view.active{display:block}
    #missionMap.hidden{display:none}
    .mission-nav{display:flex;gap:10px;margin-bottom:15px}
    .mission-nav button{background:#4a90e2;color:white;border:none;padding:10px 20px;border-radius:20px;cursor:pointer}
    .mission-info{background:rgba(26,26,46,.9);border-radius:15px;padding:25px;margin-top:20px;border:2px solid #4a90e2}
    .mission-title{font-size:1.8rem;margin-bottom:15px;color:#ffd700}
    .mission-description{font-size:1rem;color:#a8b2d1;margin-bottom:20px}
    .objectives-title{color:#4CAF50;margin-bottom:10px}
    .objective-item{border-bottom:1px solid rgba(168,178,209,.2);padding:8px 0}
    .start-button{background:linear-gradient(45deg,#4CAF50,#66BB6A);border:none;padding:15px 30px;border-radius:25px;color:white;cursor:pointer}
    .progress-container{margin-top:20px;background:rgba(255,255,255,.1);border-radius:20px;overflow:hidden}
    .progress-bar{height:20px;background:linear-gradient(90deg,#4CAF50,#81C784);width:0%;transition:width .5s}
    .badges{margin-top:20px;display:flex;gap:10px;flex-wrap:wrap}
    .badge{padding:8px 12px;border-radius:15px;background:rgba(255,255,255,.1);border:1px solid #4a90e2}
    @keyframes fadeInDown{from{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}
  </style>
</head>
<body>
  <div class="stars" id="stars"></div>
  <div class="container">
    <header class="header">
      <h1 class="title">üöÄ Misiones RoverBot</h1>
      <p class="subtitle">Exploradores del Espacio - Planeta Zython</p>
    </header>

    <!-- Mapa -->
    <div class="mission-map" id="missionMap">
      <div class="radar-background"></div>
      <svg class="mission-connections" viewBox="0 0 1200 500" preserveAspectRatio="none">
        <path d="M150 100 C 400 50, 800 50, 950 100" class="connection"/>
        <path d="M950 100 C 900 250, 400 250, 300 300" class="connection"/>
        <path d="M300 300 C 500 400, 900 400, 1000 350" class="connection"/>
      </svg>
      <div class="mission-point mission-1" id="mission1" onclick="selectMission(1)">ü™ê<span class="mission-label">Llanura de Vectonia</span></div>
      <div class="mission-point mission-2 mission-locked" id="mission2" onclick="selectMission(2)">üõ∞Ô∏è<span class="mission-label">Paso de Zycurva</span></div>
      <div class="mission-point mission-3 mission-locked" id="mission3" onclick="selectMission(3)">üî≠<span class="mission-label">Cr√°ter del Sensorium</span></div>
      <div class="mission-point mission-4 mission-locked" id="mission4" onclick="selectMission(4)">ü§ù<span class="mission-label">Estaci√≥n de Transferencia</span></div>
    </div>

    <!-- Vista de misi√≥n -->
    <div class="mission-view" id="missionView">
      <nav class="mission-nav">
        <button onclick="backToMap()">üåå Volver al mapa</button>
        <button onclick="prevMission()">‚¨ÖÔ∏è Anterior</button>
        <button onclick="nextMission()">Siguiente ‚û°Ô∏è</button>
      </nav>
      <div id="missionContent"></div>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>
      <div class="badges" id="badges"></div>
    </div>

    <!-- Infos originales -->
    <div id="missionInfo1" class="mission-info" style="display:none">
      <h2 class="mission-title">ü™ê Misi√≥n 1: Llanura de Vectonia</h2>
      <p class="mission-description">Calibra tu RoverBot para recorrer una distancia exacta...</p>
      <h3 class="objectives-title">üéØ Objetivos:</h3>
      <div class="objective-item">‚Ä¢ Comprender la relaci√≥n potencia-distancia</div>
      <div class="objective-item">‚Ä¢ Realizar mediciones reales y registrar datos</div>
      <div class="objective-item">‚Ä¢ Construir tablas de datos y conclusiones</div>
      <button class="start-button" onclick="startMission(1)">Comenzar Misi√≥n üöÄ</button>
    </div>
    <div id="missionInfo2" class="mission-info" style="display:none">
      <h2 class="mission-title">üõ∞Ô∏è Misi√≥n 2: Paso de Zycurva</h2>
      <p class="mission-description">Activa la conexi√≥n entre dos RoverBots...</p>
      <h3 class="objectives-title">üéØ Objetivos:</h3>
      <div class="objective-item">‚Ä¢ Coordinar dos RoverBots para crear giros</div>
      <div class="objective-item">‚Ä¢ Descubrir relaciones entre tiempo y √°ngulos</div>
      <div class="objective-item">‚Ä¢ Trabajar en equipo para resolver desaf√≠os</div>
      <button class="start-button" id="startBtn2" disabled onclick="startMission(2)">Misi√≥n Bloqueada üîí</button>
    </div>
    <div id="missionInfo3" class="mission-info" style="display:none">
      <h2 class="mission-title">üî≠ Misi√≥n 3: Cr√°ter del Sensorium</h2>
      <p class="mission-description">Utiliza el sensor de distancia...</p>
      <h3 class="objectives-title">üéØ Objetivos:</h3>
      <div class="objective-item">‚Ä¢ Usar condicionales simples</div>
      <div class="objective-item">‚Ä¢ Explorar el comportamiento del sensor</div>
      <div class="objective-item">‚Ä¢ Analizar m√°rgenes de error</div>
      <button class="start-button" id="startBtn3" disabled onclick="startMission(3)">Misi√≥n Bloqueada üîí</button>
    </div>
    <div id="missionInfo4" class="mission-info" style="display:none">
      <h2 class="mission-title">ü§ù Misi√≥n 4: Estaci√≥n de Transferencia</h2>
      <p class="mission-description">Coordina dos equipos para transportar recursos...</p>
      <h3 class="objectives-title">üéØ Objetivos:</h3>
      <div class="objective-item">‚Ä¢ Coordinar secuencias entre dos equipos</div>
      <div class="objective-item">‚Ä¢ Aplicar movimientos combinados</div>
      <div class="objective-item">‚Ä¢ Resolver retos log√≠sticos</div>
      <button class="start-button" id="startBtn4" disabled onclick="startMission(4)">Misi√≥n Bloqueada üîí</button>
    </div>
  </div>

  <script>
    let gameState={completedMissions:[],currentMission:null,totalMissions:4};
    const badgesContainer=document.getElementById("badges");
    const progressBar=document.getElementById("progressBar");

    function createStars(){const starsContainer=document.getElementById('stars');for(let i=0;i<100;i++){const star=document.createElement('div');star.className='star';star.style.left=Math.random()*100+'%';star.style.top=Math.random()*100+'%';star.style.animationDelay=Math.random()*2+'s';starsContainer.appendChild(star);}}

    function selectMission(missionNumber){
      const missionElement=document.getElementById(`mission${missionNumber}`);
      if(missionElement.classList.contains('mission-locked'))return;
      document.getElementById('missionMap').classList.add('hidden');
      document.getElementById('missionView').classList.add('active');
      document.getElementById('missionContent').innerHTML=document.getElementById(`missionInfo${missionNumber}`).innerHTML;
      gameState.currentMission=missionNumber;
      updateProgress();
    }
    function backToMap(){document.getElementById('missionMap').classList.remove('hidden');document.getElementById('missionView').classList.remove('active');}
    function nextMission(){if(gameState.currentMission<gameState.totalMissions)selectMission(gameState.currentMission+1);}
    function prevMission(){if(gameState.currentMission>1)selectMission(gameState.currentMission-1);}

    function startMission(missionNumber){
      alert(`üöÄ ¬°Misi√≥n ${missionNumber} iniciada!`);
      setTimeout(()=>{completeMission(missionNumber);},3000);
    }
    function completeMission(missionNumber){
      if(gameState.completedMissions.includes(missionNumber))return;
      gameState.completedMissions.push(missionNumber);
      document.getElementById(`mission${missionNumber}`).classList.add('mission-completed');
      addBadge(missionNumber);
      if(missionNumber<4){
        document.getElementById(`mission${missionNumber+1}`).classList.remove('mission-locked');
        const btn=document.getElementById(`startBtn${missionNumber+1}`);
        if(btn){btn.disabled=false;btn.textContent="Comenzar Misi√≥n üöÄ";}
      }
      updateProgress();
    }
    function updateProgress(){
      let percent=(gameState.completedMissions.length/gameState.totalMissions)*100;
      progressBar.style.width=percent+"%";
    }
    function addBadge(missionNumber){
      const badge=document.createElement("div");
      badge.className="badge";
      badge.textContent=`üèÖ Insignia Misi√≥n ${missionNumber}`;
      badgesContainer.appendChild(badge);
    }

    window.addEventListener('load',()=>{createStars();});
  </script>
</body>
</html>
